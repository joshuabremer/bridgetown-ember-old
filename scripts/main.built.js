this.collection.getActive().length)}})}),define("views/Footer",["marionette","vent","templates","views/ActiveCount"],function(e,t,n,r){return e.Layout.extend({template:n.footer,regions:{count:"#todo-count strong"},ui:{filters:"#filters a"},events:{"click #clear-completed":"onClearClick"},initialize:function(){this.bindTo(t,"todoList:filter",this.updateFilterSelection,this)},onRender:function(){this.count.show(new r({collection:this.collection}))},updateFilterSelection:function(e){this.ui.filters.removeClass("selected").filter('[href="#/'+e+'"]').addClass("selected")},onClearClick
:function(){t.trigger("todoList:clear:completed")}})}),define("app",["marionette","vent","collections/TodoList","views/Header","views/TodoListCompositeView","views/Footer"],function(e,t,n,r,i,s){var o=new e.Application,u=new n;return o.bindTo(u,"all",function(){u.length===0?(o.main.$el.hide(),o.footer.$el.hide()):(o.main.$el.show(),o.footer.$el.show())}),o.addRegions({header:"#header",main:"#main",footer:"#footer"}),o.addInitializer(function(){var e={collection:u};o.header.show(new r(e)),o.main.show(new i(e)),o.footer.show(new s(e)),u.fetch()}),t.on("todoList:filter",function(e){e=e||"all",$("#todoapp").attr("class","filter-"+e)}),t.on("todoList:clear:completed",function(){function e(e){e.destroy()}u.getCompleted().forEach(e)}),o}),define("routers/index",["marionette"],function(e){return e.AppRouter.extend({appRoutes:{"*filter":"setFilter"}})}),define("controllers/index",["vent"],function(e){return{setFilter:function(t){e.trigger("todoList:filter",t.trim()||"")}}}),require.config({paths
:{underscore:"lib/underscore",backbone:"lib/backbone",marionette:"lib/backbone.marionette",jquery:"../../../../assets/jquery.min",tpl:"lib/tpl"},shim:{"lib/backbone-localStorage":["backbone"],underscore:{exports:"_"},backbone:{exports:"Backbone",deps:["jquery","underscore"]},marionette:{exports:"Backbone.Marionette",deps:["backbone"]}},deps:["jquery","underscore"]}),require(["app","backbone","routers/index","controllers/index"],function(e,t,n,r){e.start(),new n({controller:r}),t.history.start()}),define("main",function(){})